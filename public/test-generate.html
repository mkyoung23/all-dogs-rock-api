<!DOCTYPE html>
<html>
<head>
    <title>Test Face Swap System</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 50px auto; padding: 20px; }
        button { padding: 15px 30px; font-size: 18px; background: #667eea; color: white; border: none; border-radius: 10px; cursor: pointer; margin: 10px; }
        button:hover { background: #5568d3; }
        select, input { padding: 10px; font-size: 16px; margin: 10px 0; width: 100%; max-width: 400px; }
        #result { margin-top: 30px; padding: 20px; background: #f5f5f5; border-radius: 10px; }
        #resultImage { max-width: 100%; border-radius: 10px; margin-top: 20px; }
        .loading { color: #667eea; font-weight: bold; }
        .error { color: #f44336; }
        .success { color: #4caf50; }
    </style>
</head>
<body>
    <h1>üêï Test Iconic Dog Generator</h1>

    <div>
        <label>Dog Breed:</label><br>
        <input type="text" id="dogBreed" value="golden retriever" placeholder="Enter dog breed">
    </div>

    <div>
        <label>Iconic Pose:</label><br>
        <select id="poseId">
            <option value="mj-free-throw-dunk">Michael Jordan Free Throw Dunk</option>
            <option value="mona-lisa">Mona Lisa</option>
            <option value="rocky-statue">Rocky at the Steps</option>
            <option value="einstein-tongue">Einstein Tongue Out</option>
            <option value="superman-flying">Superman Flying</option>
        </select>
    </div>

    <button onclick="generate()">üé® Generate Iconic Dog Image</button>

    <div id="result"></div>

    <script>
        async function generate() {
            const dogBreed = document.getElementById('dogBreed').value;
            const poseId = document.getElementById('poseId').value;
            const resultDiv = document.getElementById('result');

            resultDiv.innerHTML = '<p class="loading">‚è≥ Generating... This takes about 6-8 seconds...</p>';

            try {
                const response = await fetch('https://all-dogs-rock-api-v2.vercel.app/api/app-proxy/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        poseId: poseId,
                        dogBreed: dogBreed
                    })
                });

                const data = await response.json();

                if (data.success) {
                    resultDiv.innerHTML = `
                        <p class="success">‚úÖ Success! Generated: ${data.poseName}</p>
                        <img id="resultImage" src="${data.imageUrl}" alt="Generated image">
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <p class="error">‚ùå Error: ${data.error || 'Unknown error'}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `<p class="error">‚ùå Error: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>
