# =============================================================================
# ALL DOGS ROCK - ENVIRONMENT VARIABLES
# =============================================================================
# SECURITY: Never commit this file with real values to git!
# Add these to Vercel → Project → Settings → Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# SHOPIFY OAUTH & API (Required for app installation)
# -----------------------------------------------------------------------------
# Get these from: Shopify Partners Dashboard → Apps → Your App → Configuration
SHOPIFY_API_KEY=your_shopify_api_key_here
SHOPIFY_API_SECRET=your_shopify_api_secret_here

# Comma-separated list of required scopes (start minimal!)
# read_products: Browse products
# write_products: Create/update products (only if needed)
# read_orders: View orders (only if handling webhooks)
SHOPIFY_SCOPES=read_products,write_products

# Your app URL (Vercel domain)
# Production: https://all-dogs-rock-api-v2.vercel.app
# Preview: https://all-dogs-rock-api-git-branch-name.vercel.app
APP_URL=https://all-dogs-rock-api-v2.vercel.app

# Your Shopify store domain (for testing)
SHOPIFY_STORE_DOMAIN=alldogsrockshop.myshopify.com

# -----------------------------------------------------------------------------
# AI IMAGE GENERATION (Required for dog image creation)
# -----------------------------------------------------------------------------
# Replicate API for FLUX 1.1 Pro (current - $0.04 per image)
# Get from: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=your_replicate_token_here

# OpenAI API for DALL-E 3 (backup option - $0.08 per image)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# -----------------------------------------------------------------------------
# PRINTIFY INTEGRATION (Required for product fulfillment)
# -----------------------------------------------------------------------------
# Printify Personal Access Token (Bearer token)
# Get from: Printify Dashboard → Settings → Connections → API
PRINTIFY_TOKEN=your_printify_bearer_token_here

# Your Printify Shop ID
# Find in Printify Dashboard URL: printify.com/app/products/YOUR_SHOP_ID
PRINTIFY_SHOP_ID=your_shop_id_here

# -----------------------------------------------------------------------------
# CUSTOMILY INTEGRATION (Required for product customization)
# -----------------------------------------------------------------------------
# Customily Preview API Token
# Get from: Customily Dashboard → Settings → API
CUSTOMILY_PREVIEW_TOKEN=your_customily_preview_token_here

# Customily API Key (for general API access)
CUSTOMILY_API_KEY=your_customily_api_key_here

# Your Customily Product Template ID (base template for dog products)
CUSTOMILY_TEMPLATE_ID=your_template_id_here

# -----------------------------------------------------------------------------
# SESSION & SECURITY (Optional but recommended)
# -----------------------------------------------------------------------------
# Secret for signing session tokens (generate random string)
# Example: openssl rand -base64 32
SESSION_SECRET=your_random_session_secret_here

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=30

# -----------------------------------------------------------------------------
# WEBHOOKS (Optional - for order automation)
# -----------------------------------------------------------------------------
# Webhook secret for validating Shopify webhook requests
# Shopify auto-generates this when you register webhooks
SHOPIFY_WEBHOOK_SECRET=your_webhook_secret_here

# -----------------------------------------------------------------------------
# DEPLOYMENT INSTRUCTIONS
# -----------------------------------------------------------------------------
# 1. LOCAL DEVELOPMENT:
#    - Copy this file to .env.local
#    - Fill in real values
#    - Never commit .env.local to git!
#
# 2. VERCEL PRODUCTION:
#    - Go to: https://vercel.com/your-project/settings/environment-variables
#    - Add each variable to "Production" environment
#    - Redeploy after adding variables
#
# 3. VERCEL PREVIEW (for testing PRs):
#    - Add sandbox/test API keys to "Preview" environment
#    - Use test Printify store, test Shopify app credentials
#
# 4. GITHUB ACTIONS (if using CI):
#    - Go to: GitHub → Repo → Settings → Secrets and variables → Actions
#    - Add variables needed for automated deploys
#
# -----------------------------------------------------------------------------
# SECURITY CHECKLIST
# -----------------------------------------------------------------------------
# ✅ All secrets stored in Vercel env vars (not in code)
# ✅ Never use wildcards in OAuth scopes
# ✅ Use HTTPS only (Vercel handles this)
# ✅ Validate HMAC on all Shopify requests
# ✅ Rate limit all public endpoints
# ✅ Store shop tokens in database (not in-memory for production)
# ✅ Use environment-specific credentials (prod vs preview)
# ✅ Enable Vercel deployment protection
# ✅ Review Vercel logs for suspicious activity
# ✅ Rotate API keys quarterly
